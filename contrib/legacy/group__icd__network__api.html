<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICd2: ICd network API handling</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ICd network API handling<br>
<small>
[<a class="el" href="group__internal.html">ICd internal functions</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpid__notify.html">pid_notify</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicd__network__module.html">icd_network_module</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#gab8a3d34a2ccc9a7c71c44f129ad0b28">ICD_NW_API_PREFIX</a>&nbsp;&nbsp;&nbsp;&quot;libicd_network_&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g75c03825f3fa912026950fb85b657a38">ICD_NW_INIT</a>&nbsp;&nbsp;&nbsp;&quot;icd_nw_init&quot;</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef gboolean(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#ga4e898ffa816b7022a5cad860d4bfc59">icd_network_api_foreach_module_fn</a> )(struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *module, gpointer user_data)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g688b3fdaaca96695302fcc0abdb87b6e">icd_network_api_find_module</a> (gchar *module_name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g54863adaf03d0e60dd32197eb218aa70">icd_network_api_has_type</a> (struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *module, const gchar *type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g9aa968dae87ddde075f7a5e73ef6abbd">icd_network_api_foreach_module</a> (struct <a class="el" href="structicd__context.html">icd_context</a> *<a class="el" href="group__icd__context.html#g0c195d4a10021d283f4ef145294544c6">icd_ctx</a>, <a class="el" href="group__icd__network__api.html#ga4e898ffa816b7022a5cad860d4bfc59">icd_network_api_foreach_module_fn</a> foreach_fn, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g198fb3af17074de12d16b968e128e781">icd_network_api_foreach_module_pid</a> (struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *module, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g7cf8ab5583507aaedee258a67e039a82">icd_network_api_notify_pid</a> (struct <a class="el" href="structicd__context.html">icd_context</a> *<a class="el" href="group__icd__context.html#g0c195d4a10021d283f4ef145294544c6">icd_ctx</a>, const pid_t pid, const gint exit_value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g918350d91420bad2d10dd5da9b9f5dd6">icd_network_api_watch_pid</a> (const pid_t pid, gpointer watch_cb_token)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g1f18bcdce294bf350c59333a09e1922d">icd_network_api_close</a> (enum <a class="el" href="group__network__module__api.html#g5bd2640df31c9d2c116986fe15d97f7d">icd_nw_status</a> status, const gchar *err_str, const gchar *network_type, const guint network_attrs, const gchar *network_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#gd56327a62b2a75f7f5afbf79644755ed">icd_network_api_renew</a> (enum <a class="el" href="group__network__module__api.html#g769c51b18da32cd0d4f44c255fb83bbc">icd_nw_layer</a> renew_layer, const gchar *network_type, const guint network_attrs, const gchar *network_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#gd328e8d298395220c50d15052527f88f">icd_network_api_status_update</a> (gchar *network_type, guint network_attrs, gchar *network_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g88536dca05b62dcbd246c53ac9c5a3bf">icd_network_api_init_cb</a> (const gchar *module_name, void *handle, gpointer init_function, gpointer data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#gd4ca181d1d943d72d8947140a22c0a86">icd_network_api_load_modules</a> (struct <a class="el" href="structicd__context.html">icd_context</a> *<a class="el" href="group__icd__context.html#g0c195d4a10021d283f4ef145294544c6">icd_ctx</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__network__api.html#g1e1f273e09fc0af6bc703beb8a6cb564">icd_network_api_unload_modules</a> (struct <a class="el" href="structicd__context.html">icd_context</a> *<a class="el" href="group__icd__context.html#g0c195d4a10021d283f4ef145294544c6">icd_ctx</a>)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="gab8a3d34a2ccc9a7c71c44f129ad0b28"></a><!-- doxytag: member="icd_network_api.c::ICD_NW_API_PREFIX" ref="gab8a3d34a2ccc9a7c71c44f129ad0b28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICD_NW_API_PREFIX&nbsp;&nbsp;&nbsp;&quot;libicd_network_&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
prefix for the ICd network API modules 
<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00571">icd_network_api_load_modules()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g75c03825f3fa912026950fb85b657a38"></a><!-- doxytag: member="icd_network_api.c::ICD_NW_INIT" ref="g75c03825f3fa912026950fb85b657a38" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICD_NW_INIT&nbsp;&nbsp;&nbsp;&quot;icd_nw_init&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
name of the ICd network API init function 
<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00571">icd_network_api_load_modules()</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="ga4e898ffa816b7022a5cad860d4bfc59"></a><!-- doxytag: member="icd_network_api.h::icd_network_api_foreach_module_fn" ref="ga4e898ffa816b7022a5cad860d4bfc59" args=")(struct icd_network_module *module, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef gboolean(* <a class="el" href="group__icd__network__api.html#ga4e898ffa816b7022a5cad860d4bfc59">icd_network_api_foreach_module_fn</a>)(struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *module, gpointer user_data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Network api callback for going through every network module <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>the network module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data passed to #icd_network_api_foreach_module </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>if TRUE the callback will be called again with the next module; if FALSE iteration is stopped </dd></dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g1f18bcdce294bf350c59333a09e1922d"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_close" ref="g1f18bcdce294bf350c59333a09e1922d" args="(enum icd_nw_status status, const gchar *err_str, const gchar *network_type, const guint network_attrs, const gchar *network_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void icd_network_api_close           </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__network__module__api.html#g5bd2640df31c9d2c116986fe15d97f7d">icd_nw_status</a>&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>err_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const guint&nbsp;</td>
          <td class="paramname"> <em>network_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function for closing down a connection by request of a network module <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>reason for closing; <a class="el" href="group__network__module__api.html#gg5bd2640df31c9d2c116986fe15d97f7dad0a088d56bdd5f1bc478b760ddb6261">ICD_NW_RESTART</a> if the IAP needs to be restarted, success or error will both close the network connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>err_str</em>&nbsp;</td><td>NULL if the network was disconnected normally or any ICD_DBUS_ERROR_* from osso-ic-dbus.h on error </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_type</em>&nbsp;</td><td>the type of the IAP returned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_attrs</em>&nbsp;</td><td>attributes, such as type of network_id, security, etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_id</em>&nbsp;</td><td>IAP name or local id, e.g. SSID </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__iap_8c-source.html#l01720">icd_iap_disconnect()</a>, <a class="el" href="icd__iap_8c-source.html#l02289">icd_iap_find()</a>, <a class="el" href="icd__iap_8c-source.html#l02029">icd_iap_restart()</a>, <a class="el" href="icd__iap_8h-source.html#l00039">ICD_IAP_STATE_CONNECTED_DOWN</a>, <a class="el" href="icd__iap_8h-source.html#l00043">ICD_IAP_STATE_IP_DOWN</a>, <a class="el" href="icd__iap_8h-source.html#l00045">ICD_IAP_STATE_IP_RESTART_SCRIPTS</a>, <a class="el" href="icd__iap_8h-source.html#l00052">ICD_IAP_STATE_LINK_DOWN</a>, <a class="el" href="icd__iap_8h-source.html#l00047">ICD_IAP_STATE_LINK_PRE_DOWN</a>, <a class="el" href="icd__iap_8h-source.html#l00050">ICD_IAP_STATE_LINK_PRE_RESTART_SCRIPTS</a>, <a class="el" href="icd__iap_8h-source.html#l00055">ICD_IAP_STATE_LINK_RESTART_SCRIPTS</a>, <a class="el" href="icd__iap_8c-source.html#l00050">icd_iap_state_names</a>, <a class="el" href="icd__iap_8h-source.html#l00057">ICD_IAP_STATE_SCRIPT_POST_DOWN</a>, <a class="el" href="icd__iap_8h-source.html#l00041">ICD_IAP_STATE_SRV_DOWN</a>, <a class="el" href="network__api__defines_8h-source.html#l00069">ICD_NW_ERROR</a>, <a class="el" href="network__api__defines_8h-source.html#l00174">ICD_NW_LAYER_ALL</a>, <a class="el" href="network__api__defines_8h-source.html#l00170">ICD_NW_LAYER_IP</a>, <a class="el" href="network__api__defines_8h-source.html#l00166">ICD_NW_LAYER_LINK</a>, <a class="el" href="network__api__defines_8h-source.html#l00168">ICD_NW_LAYER_LINK_POST</a>, <a class="el" href="network__api__defines_8h-source.html#l00063">ICD_NW_RESTART</a>, <a class="el" href="network__api__defines_8h-source.html#l00081">ICD_NW_RESTART_IP</a>, <a class="el" href="network__api__defines_8h-source.html#l00087">ICD_NW_RESTART_LINK</a>, <a class="el" href="network__api__defines_8h-source.html#l00084">ICD_NW_RESTART_LINK_POST</a>, <a class="el" href="icd__status_8c-source.html#l00142">icd_status_disconnect()</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, and <a class="el" href="icd__iap_8h-source.html#l00112">icd_iap::state</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00460">icd_network_api_init_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g688b3fdaaca96695302fcc0abdb87b6e"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_find_module" ref="g688b3fdaaca96695302fcc0abdb87b6e" args="(gchar *module_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structicd__network__module.html">icd_network_module</a>* icd_network_api_find_module           </td>
          <td>(</td>
          <td class="paramtype">gchar *&nbsp;</td>
          <td class="paramname"> <em>module_name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find a network module by its name <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_name</em>&nbsp;</td><td>module name </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the module structure or NULL if not found </dd></dl>

<p>References <a class="el" href="icd__context_8c-source.html#l00034">icd_context_get()</a>, <a class="el" href="icd__context_8c-source.html#l00020">icd_ctx</a>, <a class="el" href="icd__network__api_8h-source.html#l00026">icd_network_module::name</a>, and <a class="el" href="icd__context_8h-source.html#l00035">icd_context::nw_module_list</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00571">icd_network_api_load_modules()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9aa968dae87ddde075f7a5e73ef6abbd"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_foreach_module" ref="g9aa968dae87ddde075f7a5e73ef6abbd" args="(struct icd_context *icd_ctx, icd_network_api_foreach_module_fn foreach_fn, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structicd__network__module.html">icd_network_module</a> * icd_network_api_foreach_module           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__context.html">icd_context</a> *&nbsp;</td>
          <td class="paramname"> <em>icd_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__icd__network__api.html#ga4e898ffa816b7022a5cad860d4bfc59">icd_network_api_foreach_module_fn</a>&nbsp;</td>
          <td class="paramname"> <em>foreach_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000007">Todo:</a></b></dt><dd>make icd_scan use the module iteration function </dd></dl>
Iterate over all network modules <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>icd_ctx</em>&nbsp;</td><td>icd context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>foreach_fn</em>&nbsp;</td><td>the function to call for each module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data to pass to the function </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to the module if the iteration function returns FALSE; NULL otherwise </dd></dl>

<p>References <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, and <a class="el" href="icd__context_8h-source.html#l00035">icd_context::nw_module_list</a>.</p>

<p>Referenced by <a class="el" href="icd__dbus__api_8c-source.html#l00246">icd_dbus_api_scan_req()</a>, <a class="el" href="icd__dbus__api_8c-source.html#l01110">icd_dbus_api_state_req()</a>, <a class="el" href="icd__network__api_8c-source.html#l00187">icd_network_api_notify_pid()</a>, and <a class="el" href="icd__scan_8c-source.html#l01030">icd_scan_cache_remove_iap()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g198fb3af17074de12d16b968e128e781"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_foreach_module_pid" ref="g198fb3af17074de12d16b968e128e781" args="(struct icd_network_module *module, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean icd_network_api_foreach_module_pid           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the network module that is watching a child process exit <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>the network module to examine </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>the #pid_notify structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE to continue searching, FALSE to exit iteration and return a pointer to the module </dd></dl>

<p>References <a class="el" href="network__api_8h_8in-source.html#l00648">icd_nw_api::child_exit</a>, <a class="el" href="icd__network__api_8c-source.html#l00139">pid_notify::exit_value</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, <a class="el" href="icd__network__api_8h-source.html#l00026">icd_network_module::name</a>, <a class="el" href="icd__network__api_8h-source.html#l00048">icd_network_module::nw</a>, <a class="el" href="icd__network__api_8c-source.html#l00137">pid_notify::pid</a>, <a class="el" href="icd__network__api_8h-source.html#l00030">icd_network_module::pid_list</a>, and <a class="el" href="network__api_8h_8in-source.html#l00610">icd_nw_api::private</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00187">icd_network_api_notify_pid()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g54863adaf03d0e60dd32197eb218aa70"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_has_type" ref="g54863adaf03d0e60dd32197eb218aa70" args="(struct icd_network_module *module, const gchar *type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean icd_network_api_has_type           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__network__module.html">icd_network_module</a> *&nbsp;</td>
          <td class="paramname"> <em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function for checking whether a modules supports a given type <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module</em>&nbsp;</td><td>the module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>the type to check for </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if the module supports the given type, FALSE otherwise </dd></dl>

<p>References <a class="el" href="icd__context_8c-source.html#l00034">icd_context_get()</a>, <a class="el" href="icd__context_8c-source.html#l00020">icd_ctx</a>, <a class="el" href="icd__log_8h-source.html#l00050">ILOG_CRIT</a>, and <a class="el" href="icd__context_8h-source.html#l00037">icd_context::type_to_module</a>.</p>

<p>Referenced by <a class="el" href="icd__scan_8c-source.html#l01048">icd_scan_results_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g88536dca05b62dcbd246c53ac9c5a3bf"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_init_cb" ref="g88536dca05b62dcbd246c53ac9c5a3bf" args="(const gchar *module_name, void *handle, gpointer init_function, gpointer data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean icd_network_api_init_cb           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>module_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>init_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the loaded module <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>module_name</em>&nbsp;</td><td>module filename without path </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handle</em>&nbsp;</td><td>module handle; used for unloading </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>init_function</em>&nbsp;</td><td>module init function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>icd context </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE on success, FALSE on failure </dd></dl>

<p>References <a class="el" href="icd__network__api_8h-source.html#l00024">icd_network_module::handle</a>, <a class="el" href="icd__context_8c-source.html#l00020">icd_ctx</a>, <a class="el" href="icd__network__api_8c-source.html#l00231">icd_network_api_close()</a>, <a class="el" href="icd__network__api_8c-source.html#l00309">icd_network_api_renew()</a>, <a class="el" href="icd__network__api_8c-source.html#l00427">icd_network_api_status_update()</a>, <a class="el" href="icd__network__api_8c-source.html#l00204">icd_network_api_watch_pid()</a>, <a class="el" href="network__api_8h_8in-source.html#l00173">ICD_NW_MODULE_VERSION</a>, <a class="el" href="icd__plugin_8c-source.html#l00187">icd_plugin_unload_module()</a>, <a class="el" href="icd__scan_8c-source.html#l01170">icd_scan_cache_init()</a>, <a class="el" href="icd__version_8c-source.html#l00018">icd_version_compare()</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, <a class="el" href="network__api_8h_8in-source.html#l00619">icd_nw_api::ip_addr_info</a>, <a class="el" href="network__api_8h_8in-source.html#l00621">icd_nw_api::ip_stats</a>, <a class="el" href="network__api_8h_8in-source.html#l00617">icd_nw_api::ip_up</a>, <a class="el" href="network__api_8h_8in-source.html#l00628">icd_nw_api::link_post_stats</a>, <a class="el" href="network__api_8h_8in-source.html#l00626">icd_nw_api::link_post_up</a>, <a class="el" href="network__api_8h_8in-source.html#l00635">icd_nw_api::link_stats</a>, <a class="el" href="network__api_8h_8in-source.html#l00633">icd_nw_api::link_up</a>, <a class="el" href="icd__network__api_8h-source.html#l00026">icd_network_module::name</a>, <a class="el" href="network__api_8h_8in-source.html#l00652">icd_nw_api::network_destruct</a>, <a class="el" href="icd__network__api_8h-source.html#l00048">icd_network_module::nw</a>, <a class="el" href="icd__context_8h-source.html#l00035">icd_context::nw_module_list</a>, <a class="el" href="network__api_8h_8in-source.html#l00610">icd_nw_api::private</a>, <a class="el" href="network__api_8h_8in-source.html#l00641">icd_nw_api::search_interval</a>, <a class="el" href="network__api_8h_8in-source.html#l00638">icd_nw_api::search_lifetime</a>, <a class="el" href="network__api_8h_8in-source.html#l00643">icd_nw_api::start_search</a>, <a class="el" href="network__api_8h_8in-source.html#l00645">icd_nw_api::stop_search</a>, and <a class="el" href="network__api_8h_8in-source.html#l00607">icd_nw_api::version</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00571">icd_network_api_load_modules()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd4ca181d1d943d72d8947140a22c0a86"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_load_modules" ref="gd4ca181d1d943d72d8947140a22c0a86" args="(struct icd_context *icd_ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean icd_network_api_load_modules           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__context.html">icd_context</a> *&nbsp;</td>
          <td class="paramname"> <em>icd_ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Load all network API modules <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>icd_ctx</em>&nbsp;</td><td>icd context </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the status from icd_plugin_load_all </dd></dl>

<p>References <a class="el" href="icd__network__api_8c-source.html#l00048">icd_network_api_find_module()</a>, <a class="el" href="icd__network__api_8c-source.html#l00460">icd_network_api_init_cb()</a>, <a class="el" href="icd__type__modules_8c-source.html#l00033">icd_network_modules_get()</a>, <a class="el" href="icd__network__api_8c-source.html#l00035">ICD_NW_API_PREFIX</a>, <a class="el" href="icd__network__api_8c-source.html#l00038">ICD_NW_INIT</a>, <a class="el" href="icd__plugin_8c-source.html#l00084">icd_plugin_load_all()</a>, <a class="el" href="icd__log_8h-source.html#l00050">ILOG_CRIT</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__network__api_8h-source.html#l00028">icd_network_module::network_types</a>, and <a class="el" href="icd__context_8h-source.html#l00037">icd_context::type_to_module</a>.</p>

<p>Referenced by <a class="el" href="icd__exec_8c-source.html#l00170">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7cf8ab5583507aaedee258a67e039a82"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_notify_pid" ref="g7cf8ab5583507aaedee258a67e039a82" args="(struct icd_context *icd_ctx, const pid_t pid, const gint exit_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean icd_network_api_notify_pid           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__context.html">icd_context</a> *&nbsp;</td>
          <td class="paramname"> <em>icd_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pid_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gint&nbsp;</td>
          <td class="paramname"> <em>exit_value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Notify a network module that its child process has exited <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>icd_ctx</em>&nbsp;</td><td>the context </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the process id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exit_value</em>&nbsp;</td><td>exit value </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if the process id was in use by the network api; FALSE if not </dd></dl>

<p>References <a class="el" href="icd__network__api_8c-source.html#l00139">pid_notify::exit_value</a>, <a class="el" href="icd__network__api_8c-source.html#l00104">icd_network_api_foreach_module()</a>, <a class="el" href="icd__network__api_8c-source.html#l00149">icd_network_api_foreach_module_pid()</a>, and <a class="el" href="icd__network__api_8c-source.html#l00137">pid_notify::pid</a>.</p>

<p>Referenced by <a class="el" href="icd__exec_8c-source.html#l00126">icd_exec_signal_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd56327a62b2a75f7f5afbf79644755ed"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_renew" ref="gd56327a62b2a75f7f5afbf79644755ed" args="(enum icd_nw_layer renew_layer, const gchar *network_type, const guint network_attrs, const gchar *network_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void icd_network_api_renew           </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__network__module__api.html#g769c51b18da32cd0d4f44c255fb83bbc">icd_nw_layer</a>&nbsp;</td>
          <td class="paramname"> <em>renew_layer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const guint&nbsp;</td>
          <td class="paramname"> <em>network_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request a network module layer to be renewed <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>renew_layer</em>&nbsp;</td><td>the network module layer to renew </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_type</em>&nbsp;</td><td>network type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_attrs</em>&nbsp;</td><td>network_attrs </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_id</em>&nbsp;</td><td>network_id </td></tr>
  </table>
</dl>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>when saving, the dialog might try to save a name for a failed iap... </dd></dl>

<p>References <a class="el" href="icd__iap_8c-source.html#l02289">icd_iap_find()</a>, <a class="el" href="icd__iap_8c-source.html#l02002">icd_iap_renew()</a>, <a class="el" href="icd__iap_8c-source.html#l02029">icd_iap_restart()</a>, <a class="el" href="icd__iap_8h-source.html#l00037">ICD_IAP_STATE_CONNECTED</a>, <a class="el" href="icd__iap_8h-source.html#l00021">ICD_IAP_STATE_DISCONNECTED</a>, <a class="el" href="icd__iap_8h-source.html#l00029">ICD_IAP_STATE_IP_UP</a>, <a class="el" href="icd__iap_8h-source.html#l00027">ICD_IAP_STATE_LINK_POST_UP</a>, <a class="el" href="icd__iap_8h-source.html#l00025">ICD_IAP_STATE_LINK_UP</a>, <a class="el" href="icd__iap_8c-source.html#l00050">icd_iap_state_names</a>, <a class="el" href="icd__iap_8h-source.html#l00035">ICD_IAP_STATE_SAVING</a>, <a class="el" href="icd__iap_8h-source.html#l00033">ICD_IAP_STATE_SCRIPT_POST_UP</a>, <a class="el" href="icd__iap_8h-source.html#l00023">ICD_IAP_STATE_SCRIPT_PRE_UP</a>, <a class="el" href="icd__iap_8h-source.html#l00031">ICD_IAP_STATE_SRV_UP</a>, <a class="el" href="network__api__defines_8h-source.html#l00170">ICD_NW_LAYER_IP</a>, <a class="el" href="network__api__defines_8h-source.html#l00166">ICD_NW_LAYER_LINK</a>, <a class="el" href="network__api__defines_8h-source.html#l00168">ICD_NW_LAYER_LINK_POST</a>, <a class="el" href="network__api__defines_8h-source.html#l00172">ICD_NW_LAYER_SERVICE</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, and <a class="el" href="icd__iap_8h-source.html#l00112">icd_iap::state</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00460">icd_network_api_init_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd328e8d298395220c50d15052527f88f"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_status_update" ref="gd328e8d298395220c50d15052527f88f" args="(gchar *network_type, guint network_attrs, gchar *network_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void icd_network_api_status_update           </td>
          <td>(</td>
          <td class="paramtype">gchar *&nbsp;</td>
          <td class="paramname"> <em>network_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">guint&nbsp;</td>
          <td class="paramname"> <em>network_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar *&nbsp;</td>
          <td class="paramname"> <em>network_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Status of the network has changed while the network has been connected <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>network_type</em>&nbsp;</td><td>the type of the IAP returned </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_attrs</em>&nbsp;</td><td>attributes, such as type of network_id, security, etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_id</em>&nbsp;</td><td>IAP name or local id, e.g. SSID </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__iap_8c-source.html#l02289">icd_iap_find()</a>, <a class="el" href="icd__iap_8h-source.html#l00037">ICD_IAP_STATE_CONNECTED</a>, <a class="el" href="icd__status_8c-source.html#l00124">icd_status_connected()</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, and <a class="el" href="icd__iap_8h-source.html#l00112">icd_iap::state</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00460">icd_network_api_init_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g1e1f273e09fc0af6bc703beb8a6cb564"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_unload_modules" ref="g1e1f273e09fc0af6bc703beb8a6cb564" args="(struct icd_context *icd_ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icd_network_api_unload_modules           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__context.html">icd_context</a> *&nbsp;</td>
          <td class="paramname"> <em>icd_ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unload all network modules <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>icd_ctx</em>&nbsp;</td><td>icd context </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__network__api_8h-source.html#l00024">icd_network_module::handle</a>, <a class="el" href="icd__plugin_8c-source.html#l00187">icd_plugin_unload_module()</a>, <a class="el" href="icd__scan_8c-source.html#l01189">icd_scan_cache_remove()</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__network__api_8h-source.html#l00026">icd_network_module::name</a>, <a class="el" href="network__api_8h_8in-source.html#l00652">icd_nw_api::network_destruct</a>, <a class="el" href="icd__network__api_8h-source.html#l00028">icd_network_module::network_types</a>, <a class="el" href="icd__network__api_8h-source.html#l00048">icd_network_module::nw</a>, <a class="el" href="icd__context_8h-source.html#l00035">icd_context::nw_module_list</a>, <a class="el" href="icd__network__api_8h-source.html#l00030">icd_network_module::pid_list</a>, <a class="el" href="network__api_8h_8in-source.html#l00610">icd_nw_api::private</a>, and <a class="el" href="icd__context_8h-source.html#l00037">icd_context::type_to_module</a>.</p>

<p>Referenced by <a class="el" href="icd__exec_8c-source.html#l00170">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g918350d91420bad2d10dd5da9b9f5dd6"></a><!-- doxytag: member="icd_network_api.c::icd_network_api_watch_pid" ref="g918350d91420bad2d10dd5da9b9f5dd6" args="(const pid_t pid, gpointer watch_cb_token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void icd_network_api_watch_pid           </td>
          <td>(</td>
          <td class="paramtype">const pid_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>watch_cb_token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set ICd to watch a child pid <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>process id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>watch_cb_token</em>&nbsp;</td><td>the watch callback token given on initialization </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__log_8h-source.html#l00050">ILOG_CRIT</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__network__api_8h-source.html#l00026">icd_network_module::name</a>, and <a class="el" href="icd__network__api_8h-source.html#l00030">icd_network_module::pid_list</a>.</p>

<p>Referenced by <a class="el" href="icd__network__api_8c-source.html#l00460">icd_network_api_init_cb()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 11 09:04:50 2010 for ICd2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
