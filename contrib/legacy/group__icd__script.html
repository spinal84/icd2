<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICd2: Network script support</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Network script support<br>
<small>
[<a class="el" href="group__internal.html">ICd internal functions</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicd__script__data.html">icd_script_data</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g513882685ac6b622efcf1778b8510dfb">ICD_SCRIPT_MIN_TIMEOUT</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g293f6758a8cb0c69689dafda579f6976">ICD_SCRIPT_DEFAULT_TIMEOUT</a>&nbsp;&nbsp;&nbsp;15</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g990dd7657c00b2d28f81fdd6c40c46c4">ICD_SCRIPT_MAX_TIMEOUT</a>&nbsp;&nbsp;&nbsp;120</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g10e4830dc2b5b63c74dfb7747d3dd195">ICD_SCRIPT_GCONF_PATH</a>&nbsp;&nbsp;&nbsp;ICD_GCONF_SETTINGS &quot;/network_scripts/timeout&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g5157f497823c971ed63f507f6e4e88bf">SCRIPT_IFACE</a>&nbsp;&nbsp;&nbsp;&quot;IFACE&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g7993850c76762ab4c6e865dd7928ad37">SCRIPT_LOGICAL</a>&nbsp;&nbsp;&nbsp;&quot;LOGICAL&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gda96bd0923e9b47d510a923d05c37c1a">SCRIPT_ADDRFAM</a>&nbsp;&nbsp;&nbsp;&quot;ADDRFAM&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gc87ae2fbfb10153e324082428d34bdd4">SCRIPT_METHOD</a>&nbsp;&nbsp;&nbsp;&quot;METHOD&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gf6ee788ff372e694ba274e3209cdebc9">SCRIPT_MODE</a>&nbsp;&nbsp;&nbsp;&quot;MODE&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gcc5e194e3cf6c8d803dc2b4e78df0b98">SCRIPT_PHASE</a>&nbsp;&nbsp;&nbsp;&quot;PHASE&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g622b20b05f80e864bafd423dcd88be33">SCRIPT_VERBOSITY</a>&nbsp;&nbsp;&nbsp;&quot;VERBOSITY&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g21ae804542e9e49dc08fe5ca66e7ac5e">SCRIPT_VERBOSITY_VALUE</a>&nbsp;&nbsp;&nbsp;&quot;0&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g9e163ae663640e1bf105e354db0d9977">SCRIPT_PATH</a>&nbsp;&nbsp;&nbsp;&quot;PATH&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g3103bbf6a6c61aa7b9f6f69ffd448fb6">SCRIPT_PATH_VALUE</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g45cc6f1cce99b872a160c0f773fd6483">SCRIPT_IAP_ID</a>&nbsp;&nbsp;&nbsp;&quot;ICD_CONNECTION_ID&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g214ab12af7b07c9269bbddfd22f5b88b">SCRIPT_IAP_TYPE</a>&nbsp;&nbsp;&nbsp;&quot;ICD_CONNECTION_TYPE&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g7fe1e2f11f68035ef2d08e540f55494b">SCRIPT_PROXY_UNSET</a>&nbsp;&nbsp;&nbsp;&quot;ICD_PROXY_UNSET&quot;</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a> )(const pid_t pid, const gint exit_value, gpointer user_data)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g6052f871a260deb9d53e9faec8e79dc0">string_equal</a> (const gchar *a, const gchar *b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static GSList **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g78a18494dff635b7c87f28fbdd2f49cf">icd_script_get</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gbe812538cd6f7499139a97d2ed42aecc">icd_script_notify_pid</a> (const pid_t pid, const gint exit_value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gb21c116313efad562fe6656ac651ad7c">icd_script_timeout</a> (gpointer data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gd1677f358c1918d3a455692d0c9dc303">icd_script_exec</a> (const gchar *script, const gchar *iface, const gchar *mode, const gchar *phase, const gchar *iap_id, const gchar *iap_type, const gboolean remove_proxies, const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *env)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gf6fd7f80f938409ba9b637df7d83bf1d">icd_script_timeout_secs</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#g01ba4c3d21a735a1c7b9afa26cf4cd09">icd_script_run</a> (const gchar *script, const gchar *iface, const gchar *mode, const gchar *phase, const gchar *iap_id, const gchar *iap_type, gboolean remove_proxies, const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *env, <a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a> cb, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gc397fcb9dd3e2111c2c5b747547da484">icd_script_cancel</a> (const pid_t pid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gfb52a9168267716d72f966d13ffcc4cb">icd_script_pre_up</a> (const gchar *iap_id, const gchar *iap_type, const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *env, <a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a> cb, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gb8a3102511c6b49e03c2fa79bf5b250d">icd_script_post_up</a> (const gchar *iface, const gchar *iap_id, const gchar *iap_type, const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *env, <a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a> cb, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gc806ecd8f566b1ae81c9993e48fbfd84">icd_script_pre_down</a> (const gchar *iface, const gchar *iap_id, const gchar *iap_type, gboolean remove_proxies, const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *env, <a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a> cb, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__script.html#gd0d3d9e1ffbe064757d0f439c6c60813">icd_script_post_down</a> (const gchar *iface, const gchar *iap_id, const gchar *iap_type, const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *env, <a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a> cb, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g7c377cbd11adef86b953cdd64f9466bc"></a><!-- doxytag: member="icd_script::icd_script_add_env_vars" ref="g7c377cbd11adef86b953cdd64f9466bc" args="(struct icd_iap *iap, gchar **env_vars)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>icd_script_add_env_vars</b> (struct <a class="el" href="structicd__iap.html">icd_iap</a> *iap, gchar **env_vars)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const gchar const *&nbsp;</td><td class="memItemRight" valign="bottom"><b>reserved_env_vars</b> []</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g293f6758a8cb0c69689dafda579f6976"></a><!-- doxytag: member="icd_script.c::ICD_SCRIPT_DEFAULT_TIMEOUT" ref="g293f6758a8cb0c69689dafda579f6976" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICD_SCRIPT_DEFAULT_TIMEOUT&nbsp;&nbsp;&nbsp;15          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
default time in seconds that a script can be run 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00277">icd_script_timeout_secs()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g10e4830dc2b5b63c74dfb7747d3dd195"></a><!-- doxytag: member="icd_script.c::ICD_SCRIPT_GCONF_PATH" ref="g10e4830dc2b5b63c74dfb7747d3dd195" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICD_SCRIPT_GCONF_PATH&nbsp;&nbsp;&nbsp;ICD_GCONF_SETTINGS &quot;/network_scripts/timeout&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
gconf location for timeout value 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00277">icd_script_timeout_secs()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g990dd7657c00b2d28f81fdd6c40c46c4"></a><!-- doxytag: member="icd_script.c::ICD_SCRIPT_MAX_TIMEOUT" ref="g990dd7657c00b2d28f81fdd6c40c46c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICD_SCRIPT_MAX_TIMEOUT&nbsp;&nbsp;&nbsp;120          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
max time in seconds that a script can be run 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00277">icd_script_timeout_secs()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g513882685ac6b622efcf1778b8510dfb"></a><!-- doxytag: member="icd_script.c::ICD_SCRIPT_MIN_TIMEOUT" ref="g513882685ac6b622efcf1778b8510dfb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICD_SCRIPT_MIN_TIMEOUT&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
min time in seconds that a script can be run 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00277">icd_script_timeout_secs()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gda96bd0923e9b47d510a923d05c37c1a"></a><!-- doxytag: member="icd_script.c::SCRIPT_ADDRFAM" ref="gda96bd0923e9b47d510a923d05c37c1a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_ADDRFAM&nbsp;&nbsp;&nbsp;&quot;ADDRFAM&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
address family of the interface 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g45cc6f1cce99b872a160c0f773fd6483"></a><!-- doxytag: member="icd_script.c::SCRIPT_IAP_ID" ref="g45cc6f1cce99b872a160c0f773fd6483" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_IAP_ID&nbsp;&nbsp;&nbsp;&quot;ICD_CONNECTION_ID&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ICd IAP identifier; for now escaped gconf name 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g214ab12af7b07c9269bbddfd22f5b88b"></a><!-- doxytag: member="icd_script.c::SCRIPT_IAP_TYPE" ref="g214ab12af7b07c9269bbddfd22f5b88b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_IAP_TYPE&nbsp;&nbsp;&nbsp;&quot;ICD_CONNECTION_TYPE&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
ICd IAP type 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5157f497823c971ed63f507f6e4e88bf"></a><!-- doxytag: member="icd_script.c::SCRIPT_IFACE" ref="g5157f497823c971ed63f507f6e4e88bf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_IFACE&nbsp;&nbsp;&nbsp;&quot;IFACE&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
physical name of the interface being processed 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7993850c76762ab4c6e865dd7928ad37"></a><!-- doxytag: member="icd_script.c::SCRIPT_LOGICAL" ref="g7993850c76762ab4c6e865dd7928ad37" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_LOGICAL&nbsp;&nbsp;&nbsp;&quot;LOGICAL&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
logical name of the interface being processed 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc87ae2fbfb10153e324082428d34bdd4"></a><!-- doxytag: member="icd_script.c::SCRIPT_METHOD" ref="gc87ae2fbfb10153e324082428d34bdd4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_METHOD&nbsp;&nbsp;&nbsp;&quot;METHOD&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
method of the interface 
</div>
</div><p>
<a class="anchor" name="gf6ee788ff372e694ba274e3209cdebc9"></a><!-- doxytag: member="icd_script.c::SCRIPT_MODE" ref="gf6ee788ff372e694ba274e3209cdebc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_MODE&nbsp;&nbsp;&nbsp;&quot;MODE&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
'start' if going up, 'stop' if going down 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9e163ae663640e1bf105e354db0d9977"></a><!-- doxytag: member="icd_script.c::SCRIPT_PATH" ref="g9e163ae663640e1bf105e354db0d9977" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_PATH&nbsp;&nbsp;&nbsp;&quot;PATH&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the command search path 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g3103bbf6a6c61aa7b9f6f69ffd448fb6"></a><!-- doxytag: member="icd_script.c::SCRIPT_PATH_VALUE" ref="g3103bbf6a6c61aa7b9f6f69ffd448fb6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_PATH_VALUE          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="stringliteral">"/usr/local/sbin:/usr/local/bin:/usr/sbin:"</span>\
                               <span class="stringliteral">"/usr/bin:/sbin:/bin"</span>
</pre></div>script search path value 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcc5e194e3cf6c8d803dc2b4e78df0b98"></a><!-- doxytag: member="icd_script.c::SCRIPT_PHASE" ref="gcc5e194e3cf6c8d803dc2b4e78df0b98" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_PHASE&nbsp;&nbsp;&nbsp;&quot;PHASE&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
as per MODE, but with finer granularity, distinguishing the pre-up, post-up, pre-down and post-down phases 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g7fe1e2f11f68035ef2d08e540f55494b"></a><!-- doxytag: member="icd_script.c::SCRIPT_PROXY_UNSET" ref="g7fe1e2f11f68035ef2d08e540f55494b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_PROXY_UNSET&nbsp;&nbsp;&nbsp;&quot;ICD_PROXY_UNSET&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Unset proxies 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g622b20b05f80e864bafd423dcd88be33"></a><!-- doxytag: member="icd_script.c::SCRIPT_VERBOSITY" ref="g622b20b05f80e864bafd423dcd88be33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_VERBOSITY&nbsp;&nbsp;&nbsp;&quot;VERBOSITY&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
verbosity 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g21ae804542e9e49dc08fe5ca66e7ac5e"></a><!-- doxytag: member="icd_script.c::SCRIPT_VERBOSITY_VALUE" ref="g21ae804542e9e49dc08fe5ca66e7ac5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SCRIPT_VERBOSITY_VALUE&nbsp;&nbsp;&nbsp;&quot;0&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
script verbosity value 
<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="gdc51a185e1165ba4933a8d2ccef771a3"></a><!-- doxytag: member="icd_script.h::icd_script_cb_fn" ref="gdc51a185e1165ba4933a8d2ccef771a3" args=")(const pid_t pid, const gint exit_value, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a>)(const pid_t pid, const gint exit_value, gpointer user_data)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function called when script has exited <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the process id of the script that exited </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exit_value</em>&nbsp;</td><td>exit value of the script or -1 on timeout </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gc397fcb9dd3e2111c2c5b747547da484"></a><!-- doxytag: member="icd_script.c::icd_script_cancel" ref="gc397fcb9dd3e2111c2c5b747547da484" args="(const pid_t pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icd_script_cancel           </td>
          <td>(</td>
          <td class="paramtype">const pid_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Cancel a running script <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>script process id </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00108">icd_script_get()</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__script_8c-source.html#l00084">icd_script_data::pid</a>, and <a class="el" href="icd__script_8c-source.html#l00086">icd_script_data::timeout_id</a>.</p>

<p>Referenced by <a class="el" href="icd__iap_8c-source.html#l01628">icd_iap_script_pre_down()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd1677f358c1918d3a455692d0c9dc303"></a><!-- doxytag: member="icd_script.c::icd_script_exec" ref="gd1677f358c1918d3a455692d0c9dc303" args="(const gchar *script, const gchar *iface, const gchar *mode, const gchar *phase, const gchar *iap_id, const gchar *iap_type, const gboolean remove_proxies, const struct icd_iap_env *env)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static pid_t icd_script_exec           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>script</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gboolean&nbsp;</td>
          <td class="paramname"> <em>remove_proxies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forks and execs the network script <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>script</em>&nbsp;</td><td>the script, i.e. 'pre-up', 'post-up', 'pre-down', 'post-down' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iface</em>&nbsp;</td><td>interface name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method</em>&nbsp;</td><td>address configuration method, i.e. 'static', 'manual', 'dhcp', 'ppp', etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>either 'start' or 'stop' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>phase</em>&nbsp;</td><td>script phase, i.e. 'pre-up', 'post-up', 'pre-down', 'post-down' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_id</em>&nbsp;</td><td>Unique IAP identifier, currently the escaped iap name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_type</em>&nbsp;</td><td>IAP type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remove_proxies</em>&nbsp;</td><td>TRUE to set ICD_PROXY_UNSET=1 </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>pid of child process or -1 on error </dd></dl>

<p>References <a class="el" href="icd__iap_8h-source.html#l00097">icd_iap_env::addrfam</a>, <a class="el" href="icd__iap_8h-source.html#l00099">icd_iap_env::envlist</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__script_8c-source.html#l00084">icd_script_data::pid</a>, <a class="el" href="icd__script_8c-source.html#l00041">SCRIPT_ADDRFAM</a>, <a class="el" href="icd__script_8c-source.html#l00059">SCRIPT_IAP_ID</a>, <a class="el" href="icd__script_8c-source.html#l00061">SCRIPT_IAP_TYPE</a>, <a class="el" href="icd__script_8c-source.html#l00037">SCRIPT_IFACE</a>, <a class="el" href="icd__script_8c-source.html#l00039">SCRIPT_LOGICAL</a>, <a class="el" href="icd__script_8c-source.html#l00045">SCRIPT_MODE</a>, <a class="el" href="icd__script_8c-source.html#l00054">SCRIPT_PATH</a>, <a class="el" href="icd__script_8c-source.html#l00056">SCRIPT_PATH_VALUE</a>, <a class="el" href="icd__script_8c-source.html#l00048">SCRIPT_PHASE</a>, <a class="el" href="icd__script_8c-source.html#l00063">SCRIPT_PROXY_UNSET</a>, <a class="el" href="icd__script_8c-source.html#l00050">SCRIPT_VERBOSITY</a>, and <a class="el" href="icd__script_8c-source.html#l00052">SCRIPT_VERBOSITY_VALUE</a>.</p>

<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g78a18494dff635b7c87f28fbdd2f49cf"></a><!-- doxytag: member="icd_script.c::icd_script_get" ref="g78a18494dff635b7c87f28fbdd2f49cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static GSList** icd_script_get           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the list of running scripts <dl class="return" compact><dt><b>Returns:</b></dt><dd>the list </dd></dl>

<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00360">icd_script_cancel()</a>, <a class="el" href="icd__script_8c-source.html#l00115">icd_script_notify_pid()</a>, and <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbe812538cd6f7499139a97d2ed42aecc"></a><!-- doxytag: member="icd_script.c::icd_script_notify_pid" ref="gbe812538cd6f7499139a97d2ed42aecc" args="(const pid_t pid, const gint exit_value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean icd_script_notify_pid           </td>
          <td>(</td>
          <td class="paramtype">const pid_t&nbsp;</td>
          <td class="paramname"> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gint&nbsp;</td>
          <td class="paramname"> <em>exit_value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Notification of an exited script process <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the process id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exit_value</em>&nbsp;</td><td>exit value </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if the pid was for a script, FALSE if the pid is unknown </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00088">icd_script_data::cb</a>, <a class="el" href="icd__script_8c-source.html#l00108">icd_script_get()</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__script_8c-source.html#l00084">icd_script_data::pid</a>, <a class="el" href="icd__script_8c-source.html#l00086">icd_script_data::timeout_id</a>, and <a class="el" href="icd__script_8c-source.html#l00090">icd_script_data::user_data</a>.</p>

<p>Referenced by <a class="el" href="icd__exec_8c-source.html#l00126">icd_exec_signal_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd0d3d9e1ffbe064757d0f439c6c60813"></a><!-- doxytag: member="icd_script.c::icd_script_post_down" ref="gd0d3d9e1ffbe064757d0f439c6c60813" args="(const gchar *iface, const gchar *iap_id, const gchar *iap_type, const struct icd_iap_env *env, icd_script_cb_fn cb, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t icd_script_post_down           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run post-down scripts <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iface</em>&nbsp;</td><td>interface name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_id</em>&nbsp;</td><td>Unique IAP identifier, currently the escaped iap name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_type</em>&nbsp;</td><td>IAP type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>script environment variables </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>callback </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data for the callback </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the process id of the running script, -1 on error whereby the callback will not be called </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb8a3102511c6b49e03c2fa79bf5b250d"></a><!-- doxytag: member="icd_script.c::icd_script_post_up" ref="gb8a3102511c6b49e03c2fa79bf5b250d" args="(const gchar *iface, const gchar *iap_id, const gchar *iap_type, const struct icd_iap_env *env, icd_script_cb_fn cb, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t icd_script_post_up           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run post-up scripts <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iface</em>&nbsp;</td><td>interface name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_id</em>&nbsp;</td><td>Unique IAP identifier, currently the escaped iap name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_type</em>&nbsp;</td><td>IAP type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>script environment variables </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>callback </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data for the callback </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the process id of the running script, -1 on error whereby the callback will not be called </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

<p>Referenced by <a class="el" href="icd__iap_8c-source.html#l01311">icd_iap_module_next()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc806ecd8f566b1ae81c9993e48fbfd84"></a><!-- doxytag: member="icd_script.c::icd_script_pre_down" ref="gc806ecd8f566b1ae81c9993e48fbfd84" args="(const gchar *iface, const gchar *iap_id, const gchar *iap_type, gboolean remove_proxies, const struct icd_iap_env *env, icd_script_cb_fn cb, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t icd_script_pre_down           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gboolean&nbsp;</td>
          <td class="paramname"> <em>remove_proxies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run pre-down scripts <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iface</em>&nbsp;</td><td>interface name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_id</em>&nbsp;</td><td>Unique IAP identifier, currently the escaped iap name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_type</em>&nbsp;</td><td>IAP type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remove_proxies</em>&nbsp;</td><td>remove http, etc. proxies if TRUE </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>script environment variables </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>callback </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data for the callback </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the process id of the running script, -1 on error whereby the callback will not be called </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

<p>Referenced by <a class="el" href="icd__iap_8c-source.html#l01628">icd_iap_script_pre_down()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gfb52a9168267716d72f966d13ffcc4cb"></a><!-- doxytag: member="icd_script.c::icd_script_pre_up" ref="gfb52a9168267716d72f966d13ffcc4cb" args="(const gchar *iap_id, const gchar *iap_type, const struct icd_iap_env *env, icd_script_cb_fn cb, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t icd_script_pre_up           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run pre-up scripts <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>iap_id</em>&nbsp;</td><td>Unique IAP identifier, currently the escaped iap name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_type</em>&nbsp;</td><td>IAP type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>script environment variables </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>callback </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data for the callback </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the process id of the running script, -1 on error whereby the callback will not be called </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

<p>Referenced by <a class="el" href="icd__iap_8c-source.html#l01514">icd_iap_run_pre_up_scripts()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g01ba4c3d21a735a1c7b9afa26cf4cd09"></a><!-- doxytag: member="icd_script.c::icd_script_run" ref="g01ba4c3d21a735a1c7b9afa26cf4cd09" args="(const gchar *script, const gchar *iface, const gchar *mode, const gchar *phase, const gchar *iap_id, const gchar *iap_type, gboolean remove_proxies, const struct icd_iap_env *env, icd_script_cb_fn cb, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static pid_t icd_script_run           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>script</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>iap_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>remove_proxies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structicd__iap__env.html">icd_iap_env</a> *&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__icd__script.html#gdc51a185e1165ba4933a8d2ccef771a3">icd_script_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run network script and start waiting for the result <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>script</em>&nbsp;</td><td>the script </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iface</em>&nbsp;</td><td>interface name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>mode </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>phase</em>&nbsp;</td><td>script phase, i.e. 'pre-up', 'post-up', 'pre-down', 'post-down' </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cb</em>&nbsp;</td><td>callback function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data for callback function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_id</em>&nbsp;</td><td>Unique IAP identifier, currently the escaped iap name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>iap_type</em>&nbsp;</td><td>IAP type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remove_proxies</em>&nbsp;</td><td>whether to remove http, etc. proxies </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>rest of the environment variables </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>pid of child process or -1 on error </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00088">icd_script_data::cb</a>, <a class="el" href="icd__script_8c-source.html#l00182">icd_script_exec()</a>, <a class="el" href="icd__script_8c-source.html#l00108">icd_script_get()</a>, <a class="el" href="icd__script_8c-source.html#l00159">icd_script_timeout()</a>, <a class="el" href="icd__script_8c-source.html#l00277">icd_script_timeout_secs()</a>, <a class="el" href="icd__script_8c-source.html#l00084">icd_script_data::pid</a>, <a class="el" href="icd__script_8c-source.html#l00086">icd_script_data::timeout_id</a>, and <a class="el" href="icd__script_8c-source.html#l00090">icd_script_data::user_data</a>.</p>

<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00426">icd_script_post_down()</a>, <a class="el" href="icd__script_8c-source.html#l00399">icd_script_post_up()</a>, <a class="el" href="icd__script_8c-source.html#l00412">icd_script_pre_down()</a>, and <a class="el" href="icd__script_8c-source.html#l00387">icd_script_pre_up()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gb21c116313efad562fe6656ac651ad7c"></a><!-- doxytag: member="icd_script.c::icd_script_timeout" ref="gb21c116313efad562fe6656ac651ad7c" args="(gpointer data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean icd_script_timeout           </td>
          <td>(</td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Script timeout function <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>pointer to pid of the script that timed out </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in order not to run again </dd></dl>

<p>References <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, and <a class="el" href="icd__script_8c-source.html#l00084">icd_script_data::pid</a>.</p>

<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf6fd7f80f938409ba9b637df7d83bf1d"></a><!-- doxytag: member="icd_script.c::icd_script_timeout_secs" ref="gf6fd7f80f938409ba9b637df7d83bf1d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gint icd_script_timeout_secs           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the script timeout value from gconf <dl class="return" compact><dt><b>Returns:</b></dt><dd>script timeout value between <a class="el" href="group__icd__script.html#g513882685ac6b622efcf1778b8510dfb">ICD_SCRIPT_MIN_TIMEOUT</a> and <a class="el" href="group__icd__script.html#g990dd7657c00b2d28f81fdd6c40c46c4">ICD_SCRIPT_MAX_TIMEOUT</a>. </dd></dl>

<p>References <a class="el" href="icd__script_8c-source.html#l00030">ICD_SCRIPT_DEFAULT_TIMEOUT</a>, <a class="el" href="icd__script_8c-source.html#l00034">ICD_SCRIPT_GCONF_PATH</a>, <a class="el" href="icd__script_8c-source.html#l00032">ICD_SCRIPT_MAX_TIMEOUT</a>, <a class="el" href="icd__script_8c-source.html#l00028">ICD_SCRIPT_MIN_TIMEOUT</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, and <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>.</p>

<p>Referenced by <a class="el" href="icd__script_8c-source.html#l00325">icd_script_run()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6052f871a260deb9d53e9faec8e79dc0"></a><!-- doxytag: member="icd_script.c::string_equal" ref="g6052f871a260deb9d53e9faec8e79dc0" args="(const gchar *a, const gchar *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean string_equal           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function for comparing two strings where a NULL string is equal to another NULL string <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>string A </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>string B </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if equal, FALSE if unequal </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g6aeaebf81045d24e2e488ca1b11a5efc"></a><!-- doxytag: member="icd_script.c::reserved_env_vars" ref="g6aeaebf81045d24e2e488ca1b11a5efc" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const gchar const* reserved_env_vars[]<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
  
  <a class="code" href="group__icd__script.html#gda96bd0923e9b47d510a923d05c37c1a">SCRIPT_ADDRFAM</a>,
  <a class="code" href="group__icd__script.html#g5157f497823c971ed63f507f6e4e88bf">SCRIPT_IFACE</a>,
  <a class="code" href="group__icd__script.html#g7993850c76762ab4c6e865dd7928ad37">SCRIPT_LOGICAL</a>,
  
  <a class="code" href="group__icd__script.html#gf6ee788ff372e694ba274e3209cdebc9">SCRIPT_MODE</a>,
  <a class="code" href="group__icd__script.html#gcc5e194e3cf6c8d803dc2b4e78df0b98">SCRIPT_PHASE</a>,
  
  <a class="code" href="group__icd__script.html#g9e163ae663640e1bf105e354db0d9977">SCRIPT_PATH</a>,
  <a class="code" href="group__icd__script.html#g45cc6f1cce99b872a160c0f773fd6483">SCRIPT_IAP_ID</a>,
  <a class="code" href="group__icd__script.html#g214ab12af7b07c9269bbddfd22f5b88b">SCRIPT_IAP_TYPE</a>,
  NULL
}
</pre></div>
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 11 09:04:50 2010 for ICd2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
