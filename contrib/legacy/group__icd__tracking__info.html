<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICd2: Tracking of D-Bus users for a request</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Tracking of D-Bus users for a request<br>
<small>
[<a class="el" href="group__internal.html">ICd internal functions</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structicd__tracking__info.html">icd_tracking_info</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__tracking__info.html#g69bdd8e18de39a9ce01707b9f737fc7b">icd_tracking_info_api</a> { <a class="el" href="group__icd__tracking__info.html#gg69bdd8e18de39a9ce01707b9f737fc7b9a6217d7a18a35821b6c4a049eb15361">ICD_TRACKING_INFO_ICD</a>, 
<a class="el" href="group__icd__tracking__info.html#gg69bdd8e18de39a9ce01707b9f737fc7bd53a095bcff40cbda230fcfa5a697869">ICD_TRACKING_INFO_ICD2</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static gpointer&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__tracking__info.html#g251ce8c463678d56b436c24db419d59e">icd_tracking_info_foreach</a> (struct <a class="el" href="structicd__request.html">icd_request</a> *request, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__tracking__info.html#g553c3d2954da371930c9cca2612d88c5">icd_tracking_info_find</a> (const gchar *sender)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__tracking__info.html#gc3221ffa04063d29cbd76e160aec8428">icd_tracking_info_free</a> (struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> *track)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__tracking__info.html#gdf015fc84b1cda924aba5cd881d5538b">icd_tracking_info_new</a> (enum <a class="el" href="group__icd__tracking__info.html#g69bdd8e18de39a9ce01707b9f737fc7b">icd_tracking_info_api</a> interface, const gchar *sender, DBusMessage *message)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__icd__tracking__info.html#gdd93f8fd95afc0c7b5338edd43631219">icd_tracking_info_update</a> (struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> *track, const gchar *sender, DBusMessage *message)</td></tr>

</table>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="g69bdd8e18de39a9ce01707b9f737fc7b"></a><!-- doxytag: member="icd_tracking_info.h::icd_tracking_info_api" ref="g69bdd8e18de39a9ce01707b9f737fc7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__icd__tracking__info.html#g69bdd8e18de39a9ce01707b9f737fc7b">icd_tracking_info_api</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
which D-Bus interface the tracking info is for <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="gg69bdd8e18de39a9ce01707b9f737fc7b9a6217d7a18a35821b6c4a049eb15361"></a><!-- doxytag: member="ICD_TRACKING_INFO_ICD" ref="gg69bdd8e18de39a9ce01707b9f737fc7b9a6217d7a18a35821b6c4a049eb15361" args="" -->ICD_TRACKING_INFO_ICD</em>&nbsp;</td><td>
old icd API </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg69bdd8e18de39a9ce01707b9f737fc7bd53a095bcff40cbda230fcfa5a697869"></a><!-- doxytag: member="ICD_TRACKING_INFO_ICD2" ref="gg69bdd8e18de39a9ce01707b9f737fc7bd53a095bcff40cbda230fcfa5a697869" args="" -->ICD_TRACKING_INFO_ICD2</em>&nbsp;</td><td>
new icd2 API </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g553c3d2954da371930c9cca2612d88c5"></a><!-- doxytag: member="icd_tracking_info.c::icd_tracking_info_find" ref="g553c3d2954da371930c9cca2612d88c5" args="(const gchar *sender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> * icd_tracking_info_find           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>sender</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find tracking info based on the sender <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sender</em>&nbsp;</td><td>the D-Bus sender </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>tracking info or NULL if not found </dd></dl>

<p>References <a class="el" href="icd__request_8c-source.html#l00068">icd_request_foreach()</a>, and <a class="el" href="icd__tracking__info_8c-source.html#l00029">icd_tracking_info_foreach()</a>.</p>

<p>Referenced by <a class="el" href="icd__name__owner_8c-source.html#l00041">icd_name_owner_filter()</a>, <a class="el" href="icd__osso__ic_8c-source.html#l01101">icd_osso_ic_bg_killed()</a>, and <a class="el" href="icd__osso__ic_8c-source.html#l00845">icd_osso_ic_disconnect()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g251ce8c463678d56b436c24db419d59e"></a><!-- doxytag: member="icd_tracking_info.c::icd_tracking_info_foreach" ref="g251ce8c463678d56b436c24db419d59e" args="(struct icd_request *request, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gpointer icd_tracking_info_foreach           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__request.html">icd_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Foreach function for finding a sender <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>the request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>tracking info </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the request or NULL if not found </dd></dl>

<p>References <a class="el" href="icd__tracking__info_8h-source.html#l00032">sender</a>, and <a class="el" href="icd__request_8h-source.html#l00060">icd_request::users</a>.</p>

<p>Referenced by <a class="el" href="icd__tracking__info_8c-source.html#l00049">icd_tracking_info_find()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc3221ffa04063d29cbd76e160aec8428"></a><!-- doxytag: member="icd_tracking_info.c::icd_tracking_info_free" ref="gc3221ffa04063d29cbd76e160aec8428" args="(struct icd_tracking_info *track)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icd_tracking_info_free           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> *&nbsp;</td>
          <td class="paramname"> <em>track</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a tracking info structure <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>track</em>&nbsp;</td><td>tracking info </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__tracking__info_8h-source.html#l00034">request</a>, and <a class="el" href="icd__tracking__info_8h-source.html#l00032">sender</a>.</p>

<p>Referenced by <a class="el" href="icd__request_8c-source.html#l00116">icd_request_tracking_info_delete_foreach()</a>, and <a class="el" href="icd__request_8c-source.html#l00180">icd_request_tracking_info_free()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdf015fc84b1cda924aba5cd881d5538b"></a><!-- doxytag: member="icd_tracking_info.c::icd_tracking_info_new" ref="gdf015fc84b1cda924aba5cd881d5538b" args="(enum icd_tracking_info_api interface, const gchar *sender, DBusMessage *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> * icd_tracking_info_new           </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__icd__tracking__info.html#g69bdd8e18de39a9ce01707b9f737fc7b">icd_tracking_info_api</a>&nbsp;</td>
          <td class="paramname"> <em>interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DBusMessage *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new tracking info structure <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>interface</em>&nbsp;</td><td>the D-Bus interface this sender is on </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sender</em>&nbsp;</td><td>the D-Bus sender </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>optional D-Bus message to send (n)acks to on connect and disconnect API calls </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>a newly allocated tracking info structure </dd></dl>

<p>References <a class="el" href="icd__tracking__info_8h-source.html#l00030">interface</a>, <a class="el" href="icd__tracking__info_8h-source.html#l00034">request</a>, and <a class="el" href="icd__tracking__info_8h-source.html#l00032">sender</a>.</p>

<p>Referenced by <a class="el" href="icd__dbus__api_8c-source.html#l00488">icd_dbus_api_connect_req()</a>, <a class="el" href="icd__dbus__api_8c-source.html#l00627">icd_dbus_api_select_req()</a>, <a class="el" href="icd__osso__ic_8c-source.html#l00998">icd_osso_ic_connect()</a>, <a class="el" href="icd__osso__ic_8c-source.html#l00845">icd_osso_ic_disconnect()</a>, and <a class="el" href="icd__request_8c-source.html#l00934">icd_request_merge()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdd93f8fd95afc0c7b5338edd43631219"></a><!-- doxytag: member="icd_tracking_info.c::icd_tracking_info_update" ref="gdd93f8fd95afc0c7b5338edd43631219" args="(struct icd_tracking_info *track, const gchar *sender, DBusMessage *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean icd_tracking_info_update           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__tracking__info.html">icd_tracking_info</a> *&nbsp;</td>
          <td class="paramname"> <em>track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DBusMessage *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update the D-Bus request message for an existing sender <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>track</em>&nbsp;</td><td>tracking info </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sender</em>&nbsp;</td><td>the new sender or NULL to leave unchanged </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>the new message to send replies to or NULL to leave unchanged </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE if the tracking information still contains a non-acked message, TRUE on success </dd></dl>

<p>References <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__tracking__info_8h-source.html#l00034">request</a>, and <a class="el" href="icd__tracking__info_8h-source.html#l00032">sender</a>.</p>

<p>Referenced by <a class="el" href="icd__name__owner_8c-source.html#l00041">icd_name_owner_filter()</a>, <a class="el" href="icd__osso__ic_8c-source.html#l01101">icd_osso_ic_bg_killed()</a>, and <a class="el" href="icd__osso__ic_8c-source.html#l00845">icd_osso_ic_disconnect()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 11 09:04:50 2010 for ICd2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
