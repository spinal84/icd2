<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICd2: Any connection policy</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Any connection policy<br>
<small>
[<a class="el" href="group__policy.html">Policy modules</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpolicy__scan__data.html">policy_scan_data</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpolicy__any__data.html">policy_any_data</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpolicy__any__network.html">policy_any_network</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#ga4b3a5a74732d4379d8978c835ce7913">icd_policy_init</a> (struct <a class="el" href="structicd__policy__api.html">icd_policy_api</a> *policy_api, <a class="el" href="group__policy__api.html#gd022e0a4bd8e20d628b6606f4e777585">icd_policy_nw_add_fn</a> add_network, <a class="el" href="group__policy__api.html#g3a70cf62a70bea7c9d0fd92350a033e6">icd_policy_request_merge_fn</a> merge_requests, <a class="el" href="group__policy__api.html#g1fc3de83f99dc012a08022fd1f8544f0">icd_policy_request_make_new_fn</a> make_request, <a class="el" href="group__policy__api.html#gf100d82b20b5e448a68f4b43cc24fbda">icd_policy_scan_start_fn</a> scan_start, <a class="el" href="group__policy__api.html#gdb5b761ab13e81895a6ad0880bd84652">icd_policy_scan_stop_fn</a> scan_stop, <a class="el" href="group__policy__api.html#gdc67b4c4ff0b2f1615eef34bf18ddd3a">icd_policy_nw_close_fn</a> not_used_1, <a class="el" href="group__policy__api.html#g2d3e5acd1275e29a1c06eb5d0bf42560">icd_policy_network_priority_fn</a> not_used_2, <a class="el" href="group__policy__api.html#g7c940de066fe5ee5921e430243ed2615">icd_policy_service_module_check_fn</a> srv_check)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#gc6759d89ca2cd73be707f6113f823d17">policy_any_string_equal</a> (const gchar *a, const gchar *b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static struct <a class="el" href="structpolicy__scan__data.html">policy_scan_data</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#g5a8d337ad32a235277574ed084d14a49">policy_any_scan_data_new</a> (struct <a class="el" href="structpolicy__any__data.html">policy_any_data</a> *any_data, struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *new_request, <a class="el" href="group__policy__api.html#g7b988874556d4215e0466cb7fd7b36c4">icd_policy_request_new_cb_fn</a> policy_done_cb, gpointer policy_token)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#ge1805a8f59c75b628424f3f9f4440f6c">policy_any_sort_network</a> (gconstpointer a, gconstpointer b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#g9bee0781511d3692a4000875bcf47936">policy_any_scan_cb</a> (const guint status, const gchar *service_name, const gchar *service_type, const guint service_attrs, const gchar *service_id, gint service_priority, const gchar *network_name, const gchar *network_type, const guint network_attrs, const gchar *network_id, const gint network_priority, const enum <a class="el" href="group__network__module__api.html#ga079af484ca6b668db044019a4a98fd4">icd_nw_levels</a> signal, gpointer user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static GSList *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#gd8f391d3a8486c7f9a1ee8de4eb8bc93">policy_any_get_types</a> (struct <a class="el" href="structpolicy__any__data.html">policy_any_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gint&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#ge4628edd5ca4b381189ce934fd1c77c1">policy_any_get_prio</a> (const GSList *existing_requests)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#g0d6f96780ae4da85e0d24108086a00e7">policy_any_new_request</a> (struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *new_request, const GSList *existing_requests, <a class="el" href="group__policy__api.html#g7b988874556d4215e0466cb7fd7b36c4">icd_policy_request_new_cb_fn</a> policy_done_cb, gpointer policy_token, gpointer *private)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#gea46da3598713741b498de00bb34722f">policy_any_cancel_request</a> (struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *request, gpointer *private)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__any.html#gbbdba1b83d9fa8b923e69d6712aa0840">policy_any_destruct</a> (gpointer *private)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga4b3a5a74732d4379d8978c835ce7913"></a><!-- doxytag: member="policy_any.c::icd_policy_init" ref="ga4b3a5a74732d4379d8978c835ce7913" args="(struct icd_policy_api *policy_api, icd_policy_nw_add_fn add_network, icd_policy_request_merge_fn merge_requests, icd_policy_request_make_new_fn make_request, icd_policy_scan_start_fn scan_start, icd_policy_scan_stop_fn scan_stop, icd_policy_nw_close_fn not_used_1, icd_policy_network_priority_fn not_used_2, icd_policy_service_module_check_fn srv_check)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icd_policy_init           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__policy__api.html">icd_policy_api</a> *&nbsp;</td>
          <td class="paramname"> <em>policy_api</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gd022e0a4bd8e20d628b6606f4e777585">icd_policy_nw_add_fn</a>&nbsp;</td>
          <td class="paramname"> <em>add_network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g3a70cf62a70bea7c9d0fd92350a033e6">icd_policy_request_merge_fn</a>&nbsp;</td>
          <td class="paramname"> <em>merge_requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g1fc3de83f99dc012a08022fd1f8544f0">icd_policy_request_make_new_fn</a>&nbsp;</td>
          <td class="paramname"> <em>make_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gf100d82b20b5e448a68f4b43cc24fbda">icd_policy_scan_start_fn</a>&nbsp;</td>
          <td class="paramname"> <em>scan_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gdb5b761ab13e81895a6ad0880bd84652">icd_policy_scan_stop_fn</a>&nbsp;</td>
          <td class="paramname"> <em>scan_stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gdc67b4c4ff0b2f1615eef34bf18ddd3a">icd_policy_nw_close_fn</a>&nbsp;</td>
          <td class="paramname"> <em>not_used_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g2d3e5acd1275e29a1c06eb5d0bf42560">icd_policy_network_priority_fn</a>&nbsp;</td>
          <td class="paramname"> <em>not_used_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g7c940de066fe5ee5921e430243ed2615">icd_policy_service_module_check_fn</a>&nbsp;</td>
          <td class="paramname"> <em>srv_check</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Policy module initialization function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>policy_api</em>&nbsp;</td><td>policy API structure to be filled in by the module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_network</em>&nbsp;</td><td>function to add a network in response to a policy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>merge_requests</em>&nbsp;</td><td>function to merge requests </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>make_request</em>&nbsp;</td><td>function for creating a new request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scan_start</em>&nbsp;</td><td>function for scanning networks </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scan_stop</em>&nbsp;</td><td>function for stopping network scanning </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gea46da3598713741b498de00bb34722f"></a><!-- doxytag: member="policy_any.c::policy_any_cancel_request" ref="gea46da3598713741b498de00bb34722f" args="(struct icd_policy_request *request, gpointer *private)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_any_cancel_request           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer *&nbsp;</td>
          <td class="paramname"> <em>private</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clean up internal policy module data structures for a request that has previously reported <a class="el" href="group__policy__api.html#gg4f54334d06c737748ec85da1bcf71de9f7e74977bfa1465478b4aafede1019f8">ICD_POLICY_WAITING</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>the request that is to be removed or NULL for all </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>private</em>&nbsp;</td><td>private data for the module </td></tr>
  </table>
</dl>

<p>References <a class="el" href="policy__any_8c-source.html#l00067">policy_any_data::found_networks</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="policy__any_8c-source.html#l00130">policy_any_network::network_id</a>, <a class="el" href="policy__any_8c-source.html#l00126">policy_any_network::network_type</a>, <a class="el" href="policy__any_8c-source.html#l00057">policy_any_data::ongoing_scans</a>, <a class="el" href="policy__any_8c-source.html#l00173">policy_any_scan_cb()</a>, <a class="el" href="policy__any_8c-source.html#l00055">policy_any_data::request</a>, <a class="el" href="policy__any_8c-source.html#l00052">policy_any_data::scan_stop</a>, <a class="el" href="policy__any_8c-source.html#l00124">policy_any_network::service_id</a>, and <a class="el" href="policy__any_8c-source.html#l00120">policy_any_network::service_type</a>.</p>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00671">policy_any_destruct()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gbbdba1b83d9fa8b923e69d6712aa0840"></a><!-- doxytag: member="policy_any.c::policy_any_destruct" ref="gbbdba1b83d9fa8b923e69d6712aa0840" args="(gpointer *private)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_any_destruct           </td>
          <td>(</td>
          <td class="paramtype">gpointer *&nbsp;</td>
          <td class="paramname"> <em>private</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Policy module destruction function. Will be called before unloading the module. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>private</em>&nbsp;</td><td>a reference to the private data </td></tr>
  </table>
</dl>

<p>References <a class="el" href="policy__any_8c-source.html#l00621">policy_any_cancel_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge4628edd5ca4b381189ce934fd1c77c1"></a><!-- doxytag: member="policy_any.c::policy_any_get_prio" ref="ge4628edd5ca4b381189ce934fd1c77c1" args="(const GSList *existing_requests)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gint policy_any_get_prio           </td>
          <td>(</td>
          <td class="paramtype">const GSList *&nbsp;</td>
          <td class="paramname"> <em>existing_requests</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the highest priority in the existing requests if change while connected is on <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>existing_requests</em>&nbsp;</td><td>existing requests </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the highest priority found or -1 if change while connected not set </dd></dl>

<p>References <a class="el" href="policy__api_8h-source.html#l00075">icd_policy_request::network_priority</a>.</p>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00537">policy_any_new_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd8f391d3a8486c7f9a1ee8de4eb8bc93"></a><!-- doxytag: member="policy_any.c::policy_any_get_types" ref="gd8f391d3a8486c7f9a1ee8de4eb8bc93" args="(struct policy_any_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static GSList* policy_any_get_types           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpolicy__any__data.html">policy_any_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a list of network types to scan <dl class="return" compact><dt><b>Returns:</b></dt><dd>list of network types that caller needs to free </dd></dl>

<p>References <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, <a class="el" href="policy__any_8c-source.html#l00126">policy_any_network::network_type</a>, and <a class="el" href="policy__any_8c-source.html#l00070">policy_any_data::srv_check</a>.</p>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00537">policy_any_new_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g0d6f96780ae4da85e0d24108086a00e7"></a><!-- doxytag: member="policy_any.c::policy_any_new_request" ref="g0d6f96780ae4da85e0d24108086a00e7" args="(struct icd_policy_request *new_request, const GSList *existing_requests, icd_policy_request_new_cb_fn policy_done_cb, gpointer policy_token, gpointer *private)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_any_new_request           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *&nbsp;</td>
          <td class="paramname"> <em>new_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GSList *&nbsp;</td>
          <td class="paramname"> <em>existing_requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g7b988874556d4215e0466cb7fd7b36c4">icd_policy_request_new_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>policy_done_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>policy_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer *&nbsp;</td>
          <td class="paramname"> <em>private</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
New connection request policy function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>new_request</em>&nbsp;</td><td>the new connection request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>existing_requests</em>&nbsp;</td><td>currently existing requests </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy_done_cb</em>&nbsp;</td><td>callback to call when policy has been decided </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy_token</em>&nbsp;</td><td>token to pass to the callback </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>private</em>&nbsp;</td><td>the private member of the icd_request_api structure </td></tr>
  </table>
</dl>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000020">Todo:</a></b></dt><dd>here we should make a new ASK request and merge with that </dd></dl>

<p>References <a class="el" href="policy__api_8h-source.html#l00061">icd_policy_request::attrs</a>, <a class="el" href="network__api__defines_8h-source.html#l00159">ICD_NW_SEARCH_SCOPE_SAVED</a>, <a class="el" href="policy__api_8h-source.html#l00023">ICD_POLICY_ACCEPTED</a>, <a class="el" href="policy__api_8h-source.html#l00043">ICD_POLICY_ATTRIBUTE_HAS_CONNECTIONS</a>, <a class="el" href="policy__api_8h-source.html#l00029">ICD_POLICY_REJECTED</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="policy__any_8c-source.html#l00061">policy_any_data::min_prio</a>, <a class="el" href="policy__api_8h-source.html#l00073">icd_policy_request::network_id</a>, <a class="el" href="policy__any_8c-source.html#l00057">policy_any_data::ongoing_scans</a>, <a class="el" href="policy__any_8c-source.html#l00505">policy_any_get_prio()</a>, <a class="el" href="policy__any_8c-source.html#l00344">policy_any_get_types()</a>, <a class="el" href="policy__any_8c-source.html#l00173">policy_any_scan_cb()</a>, <a class="el" href="policy__any_8c-source.html#l00103">policy_any_scan_data_new()</a>, <a class="el" href="policy__any_8c-source.html#l00055">policy_any_data::request</a>, <a class="el" href="policy__api_8h-source.html#l00059">icd_policy_request::request_token</a>, <a class="el" href="policy__any_8c-source.html#l00050">policy_any_data::scan_start</a>, and <a class="el" href="policy__any_8c-source.html#l00059">policy_any_data::scan_types_list</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9bee0781511d3692a4000875bcf47936"></a><!-- doxytag: member="policy_any.c::policy_any_scan_cb" ref="g9bee0781511d3692a4000875bcf47936" args="(const guint status, const gchar *service_name, const gchar *service_type, const guint service_attrs, const gchar *service_id, gint service_priority, const gchar *network_name, const gchar *network_type, const guint network_attrs, const gchar *network_id, const gint network_priority, const enum icd_nw_levels signal, gpointer user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_any_scan_cb           </td>
          <td>(</td>
          <td class="paramtype">const guint&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>service_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const guint&nbsp;</td>
          <td class="paramname"> <em>service_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&nbsp;</td>
          <td class="paramname"> <em>service_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const guint&nbsp;</td>
          <td class="paramname"> <em>network_attrs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>network_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gint&nbsp;</td>
          <td class="paramname"> <em>network_priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const enum <a class="el" href="group__network__module__api.html#ga079af484ca6b668db044019a4a98fd4">icd_nw_levels</a>&nbsp;</td>
          <td class="paramname"> <em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback function for network scan. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>network scan status with ICD_POLICY_SCAN_* values </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>service_name</em>&nbsp;</td><td>service provider name, see <a class="el" href="srv__provider__api_8h.html">srv_provider_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>service_type</em>&nbsp;</td><td>service provider type, see <a class="el" href="srv__provider__api_8h.html">srv_provider_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>service_attrs</em>&nbsp;</td><td>service provider attributes, see <a class="el" href="srv__provider__api_8h.html">srv_provider_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>service_id</em>&nbsp;</td><td>service_provider id, see <a class="el" href="srv__provider__api_8h.html">srv_provider_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>service_priority</em>&nbsp;</td><td>service priority within a service_type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_name</em>&nbsp;</td><td>network name, see <a class="el" href="network__api_8h.html">network_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_type</em>&nbsp;</td><td>network type, see <a class="el" href="network__api_8h.html">network_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_attrs</em>&nbsp;</td><td>network attributes, see <a class="el" href="network__api_8h.html">network_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_id</em>&nbsp;</td><td>network id, see <a class="el" href="network__api_8h.html">network_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>network_priority</em>&nbsp;</td><td>network priority between different network_type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>signal</em>&nbsp;</td><td>signal level, see <a class="el" href="network__api_8h.html">network_api.h</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>user data passed to <a class="el" href="group__policy__api.html#gf100d82b20b5e448a68f4b43cc24fbda">icd_policy_scan_start_fn</a> </td></tr>
  </table>
</dl>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000019">Todo:</a></b></dt><dd>actually we should wait until all networks have completed one round of scanning and only then remove all scan requests </dd></dl>

<p>References <a class="el" href="policy__any_8c-source.html#l00046">policy_any_data::add_network</a>, <a class="el" href="policy__any_8c-source.html#l00039">policy_scan_data::any_data</a>, <a class="el" href="policy__api_8h-source.html#l00061">icd_policy_request::attrs</a>, <a class="el" href="policy__any_8c-source.html#l00067">policy_any_data::found_networks</a>, <a class="el" href="policy__any_8c-source.html#l00064">policy_any_data::iaps_added</a>, <a class="el" href="network__api__defines_8h-source.html#l00132">ICD_NW_ATTR_AUTOCONNECT</a>, <a class="el" href="network__api__defines_8h-source.html#l00141">ICD_NW_ATTR_LOCALMASK</a>, <a class="el" href="policy__api_8h-source.html#l00023">ICD_POLICY_ACCEPTED</a>, <a class="el" href="policy__api_8h-source.html#l00040">ICD_POLICY_ATTRIBUTE_CONNECTIONS_FAILED</a>, <a class="el" href="policy__api_8h-source.html#l00043">ICD_POLICY_ATTRIBUTE_HAS_CONNECTIONS</a>, <a class="el" href="policy__api_8h-source.html#l00088">ICD_POLICY_SCAN_DONE</a>, <a class="el" href="policy__api_8h-source.html#l00086">ICD_POLICY_SCAN_EXPIRED_NETWORK</a>, <a class="el" href="policy__api_8h-source.html#l00082">ICD_POLICY_SCAN_NEW_NETWORK</a>, <a class="el" href="policy__api_8h-source.html#l00084">ICD_POLICY_SCAN_UPDATE_NETWORK</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, <a class="el" href="policy__any_8c-source.html#l00061">policy_any_data::min_prio</a>, <a class="el" href="policy__any_8c-source.html#l00128">policy_any_network::network_attrs</a>, <a class="el" href="policy__any_8c-source.html#l00130">policy_any_network::network_id</a>, <a class="el" href="policy__any_8c-source.html#l00132">policy_any_network::network_priority</a>, <a class="el" href="policy__any_8c-source.html#l00126">policy_any_network::network_type</a>, <a class="el" href="policy__any_8c-source.html#l00057">policy_any_data::ongoing_scans</a>, <a class="el" href="policy__any_8c-source.html#l00142">policy_any_sort_network()</a>, <a class="el" href="policy__any_8c-source.html#l00089">policy_any_string_equal()</a>, <a class="el" href="policy__any_8c-source.html#l00034">policy_scan_data::policy_done_cb</a>, <a class="el" href="policy__any_8c-source.html#l00036">policy_scan_data::policy_token</a>, <a class="el" href="policy__any_8c-source.html#l00055">policy_any_data::request</a>, <a class="el" href="policy__any_8c-source.html#l00052">policy_any_data::scan_stop</a>, <a class="el" href="policy__any_8c-source.html#l00059">policy_any_data::scan_types_list</a>, <a class="el" href="policy__any_8c-source.html#l00122">policy_any_network::service_attrs</a>, <a class="el" href="policy__any_8c-source.html#l00124">policy_any_network::service_id</a>, <a class="el" href="policy__any_8c-source.html#l00120">policy_any_network::service_type</a>, and <a class="el" href="policy__any_8c-source.html#l00134">policy_any_network::signal</a>.</p>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00621">policy_any_cancel_request()</a>, and <a class="el" href="policy__any_8c-source.html#l00537">policy_any_new_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5a8d337ad32a235277574ed084d14a49"></a><!-- doxytag: member="policy_any.c::policy_any_scan_data_new" ref="g5a8d337ad32a235277574ed084d14a49" args="(struct policy_any_data *any_data, struct icd_policy_request *new_request, icd_policy_request_new_cb_fn policy_done_cb, gpointer policy_token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structpolicy__scan__data.html">policy_scan_data</a>* policy_any_scan_data_new           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpolicy__any__data.html">policy_any_data</a> *&nbsp;</td>
          <td class="paramname"> <em>any_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *&nbsp;</td>
          <td class="paramname"> <em>new_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g7b988874556d4215e0466cb7fd7b36c4">icd_policy_request_new_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>policy_done_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>policy_token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new scan data structure and add it to the list of ongoing scans. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>any_data</em>&nbsp;</td><td>module data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>new_request</em>&nbsp;</td><td>the new connection request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy_done_cb</em>&nbsp;</td><td>callback to call when policy has been decided </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy_token</em>&nbsp;</td><td>policy token </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>scan data structure </dd></dl>

<p>References <a class="el" href="policy__any_8c-source.html#l00039">policy_scan_data::any_data</a>, <a class="el" href="policy__any_8c-source.html#l00057">policy_any_data::ongoing_scans</a>, <a class="el" href="policy__any_8c-source.html#l00034">policy_scan_data::policy_done_cb</a>, and <a class="el" href="policy__any_8c-source.html#l00036">policy_scan_data::policy_token</a>.</p>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00537">policy_any_new_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge1805a8f59c75b628424f3f9f4440f6c"></a><!-- doxytag: member="policy_any.c::policy_any_sort_network" ref="ge1805a8f59c75b628424f3f9f4440f6c" args="(gconstpointer a, gconstpointer b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gint policy_any_sort_network           </td>
          <td>(</td>
          <td class="paramtype">gconstpointer&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gconstpointer&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sort new network according to priority and signal strength <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>network A </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>network B </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>&lt; 0 if A comes before B, 0 on equality, &gt; 0 if A comes after B </dd></dl>

<p>References <a class="el" href="policy__any_8c-source.html#l00132">policy_any_network::network_priority</a>, and <a class="el" href="policy__any_8c-source.html#l00134">policy_any_network::signal</a>.</p>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00173">policy_any_scan_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gc6759d89ca2cd73be707f6113f823d17"></a><!-- doxytag: member="policy_any.c::policy_any_string_equal" ref="gc6759d89ca2cd73be707f6113f823d17" args="(const gchar *a, const gchar *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean policy_any_string_equal           </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function for comparing two strings where a NULL string is equal to another NULL string <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>string A </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>string B </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if equal, FALSE if unequal </dd></dl>

<p>Referenced by <a class="el" href="policy__any_8c-source.html#l00173">policy_any_scan_cb()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 11 09:04:50 2010 for ICd2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
