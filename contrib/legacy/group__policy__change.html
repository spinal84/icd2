<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICd2: Change to another connection</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Change to another connection<br>
<small>
[<a class="el" href="group__policy.html">Policy modules</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpolicy__change__data.html">policy_change_data</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g731c7529adabd529f1eb5dd8de78b9ed">POLICY_CHANGE_CALL_TIMEOUT</a>&nbsp;&nbsp;&nbsp;10 * 1000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g6d26df3a1f74cdca911cccc2960b75c0">POLICY_CHANGE_EXTRA_FILTER</a>&nbsp;&nbsp;&nbsp;&quot;member='&quot; ICD_UI_CHANGE_SIG &quot;'&quot;</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#ge00b3eaf9ad95fb47b051eae9153928d">icd_policy_init</a> (struct <a class="el" href="structicd__policy__api.html">icd_policy_api</a> *policy_api, <a class="el" href="group__policy__api.html#gd022e0a4bd8e20d628b6606f4e777585">icd_policy_nw_add_fn</a> add_network, <a class="el" href="group__policy__api.html#g3a70cf62a70bea7c9d0fd92350a033e6">icd_policy_request_merge_fn</a> merge_requests, <a class="el" href="group__policy__api.html#g1fc3de83f99dc012a08022fd1f8544f0">icd_policy_request_make_new_fn</a> make_request, <a class="el" href="group__policy__api.html#gf100d82b20b5e448a68f4b43cc24fbda">icd_policy_scan_start_fn</a> scan_start, <a class="el" href="group__policy__api.html#gdb5b761ab13e81895a6ad0880bd84652">icd_policy_scan_stop_fn</a> scan_stop)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g8e0c2e5dcde73e393d9b9efc3ecddbb9">policy_change_delete_data</a> (struct <a class="el" href="structpolicy__change__data.html">policy_change_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g37fcf68b368c38918466a83d883fd1e2">policy_change_do_cb</a> (enum <a class="el" href="group__policy__api.html#g4f54334d06c737748ec85da1bcf71de9">icd_policy_status</a> status, struct <a class="el" href="structpolicy__change__data.html">policy_change_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static DBusHandlerResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g9e4349b22b24a7fcf487abca43a4b59f">policy_change_done</a> (DBusConnection *connection, DBusMessage *message, void *user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g825e0bd95009858d16137e9f5f84283d">policy_change_confirm_cb</a> (DBusPendingCall *pending, void *user_data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g375d07816c480baa2e47ffaa59a3b73a">policy_change_confirm</a> (struct <a class="el" href="structpolicy__change__data.html">policy_change_data</a> *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g39b9ac810547fda862268d9cc140da0f">policy_change_new_request</a> (struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *new_request, const GSList *existing_requests, <a class="el" href="group__policy__api.html#g7b988874556d4215e0466cb7fd7b36c4">icd_policy_request_new_cb_fn</a> policy_done_cb, gpointer policy_token, gpointer *private)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__policy__change.html#g24dbec669d970a8ef5f1207b34953732">policy_change_destruct</a> (gpointer *private)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g731c7529adabd529f1eb5dd8de78b9ed"></a><!-- doxytag: member="policy_change.c::POLICY_CHANGE_CALL_TIMEOUT" ref="g731c7529adabd529f1eb5dd8de78b9ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POLICY_CHANGE_CALL_TIMEOUT&nbsp;&nbsp;&nbsp;10 * 1000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
D-Bus timeout for the change UI dialog 
<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00167">policy_change_confirm()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g6d26df3a1f74cdca911cccc2960b75c0"></a><!-- doxytag: member="policy_change.c::POLICY_CHANGE_EXTRA_FILTER" ref="g6d26df3a1f74cdca911cccc2960b75c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POLICY_CHANGE_EXTRA_FILTER&nbsp;&nbsp;&nbsp;&quot;member='&quot; ICD_UI_CHANGE_SIG &quot;'&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Extra D-Bus signal filter string 
<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00296">icd_policy_init()</a>, and <a class="el" href="policy__change_8c-source.html#l00276">policy_change_destruct()</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ge00b3eaf9ad95fb47b051eae9153928d"></a><!-- doxytag: member="policy_change.c::icd_policy_init" ref="ge00b3eaf9ad95fb47b051eae9153928d" args="(struct icd_policy_api *policy_api, icd_policy_nw_add_fn add_network, icd_policy_request_merge_fn merge_requests, icd_policy_request_make_new_fn make_request, icd_policy_scan_start_fn scan_start, icd_policy_scan_stop_fn scan_stop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icd_policy_init           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__policy__api.html">icd_policy_api</a> *&nbsp;</td>
          <td class="paramname"> <em>policy_api</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gd022e0a4bd8e20d628b6606f4e777585">icd_policy_nw_add_fn</a>&nbsp;</td>
          <td class="paramname"> <em>add_network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g3a70cf62a70bea7c9d0fd92350a033e6">icd_policy_request_merge_fn</a>&nbsp;</td>
          <td class="paramname"> <em>merge_requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g1fc3de83f99dc012a08022fd1f8544f0">icd_policy_request_make_new_fn</a>&nbsp;</td>
          <td class="paramname"> <em>make_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gf100d82b20b5e448a68f4b43cc24fbda">icd_policy_scan_start_fn</a>&nbsp;</td>
          <td class="paramname"> <em>scan_start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#gdb5b761ab13e81895a6ad0880bd84652">icd_policy_scan_stop_fn</a>&nbsp;</td>
          <td class="paramname"> <em>scan_stop</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Policy module initialization function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>policy_api</em>&nbsp;</td><td>policy API structure to be filled in by the module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>add_network</em>&nbsp;</td><td>function to add a network in response to a policy </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>merge_requests</em>&nbsp;</td><td>function to merge requests </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>make_request</em>&nbsp;</td><td>function for creating a new request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scan_networks</em>&nbsp;</td><td>function for scanning networks </td></tr>
  </table>
</dl>

<p>References <a class="el" href="policy__api_8h-source.html#l00259">icd_policy_api::destruct</a>, <a class="el" href="icd__dbus_8c-source.html#l00109">icd_dbus_connect_system_bcast_signal()</a>, <a class="el" href="policy__api_8h-source.html#l00238">icd_policy_api::new_request</a>, <a class="el" href="policy__change_8c-source.html#l00276">policy_change_destruct()</a>, <a class="el" href="policy__change_8c-source.html#l00097">policy_change_done()</a>, <a class="el" href="policy__change_8c-source.html#l00037">POLICY_CHANGE_EXTRA_FILTER</a>, <a class="el" href="policy__change_8c-source.html#l00203">policy_change_new_request()</a>, and <a class="el" href="policy__api_8h-source.html#l00236">icd_policy_api::private</a>.</p>

</div>
</div><p>
<a class="anchor" name="g375d07816c480baa2e47ffaa59a3b73a"></a><!-- doxytag: member="policy_change.c::policy_change_confirm" ref="g375d07816c480baa2e47ffaa59a3b73a" args="(struct policy_change_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static gboolean policy_change_confirm           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpolicy__change__data.html">policy_change_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Request a change connection dialog which the UI does not anymore/currently support... <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>module data </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if the D-Bus method call was sent, FALSE on error </dd></dl>

<p>References <a class="el" href="policy__change_8c-source.html#l00042">policy_change_data::change_call</a>, <a class="el" href="policy__change_8c-source.html#l00044">policy_change_data::change_from</a>, <a class="el" href="policy__change_8c-source.html#l00046">policy_change_data::change_to</a>, <a class="el" href="icd__dbus_8c-source.html#l00358">icd_dbus_send_system_mcall()</a>, <a class="el" href="policy__change_8c-source.html#l00048">policy_change_data::is_changing</a>, <a class="el" href="policy__change_8c-source.html#l00034">POLICY_CHANGE_CALL_TIMEOUT</a>, and <a class="el" href="policy__change_8c-source.html#l00138">policy_change_confirm_cb()</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00203">policy_change_new_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g825e0bd95009858d16137e9f5f84283d"></a><!-- doxytag: member="policy_change.c::policy_change_confirm_cb" ref="g825e0bd95009858d16137e9f5f84283d" args="(DBusPendingCall *pending, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_change_confirm_cb           </td>
          <td>(</td>
          <td class="paramtype">DBusPendingCall *&nbsp;</td>
          <td class="paramname"> <em>pending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Callback for the disconnect confirmation method call <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pending</em>&nbsp;</td><td>pending D-Bus method call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>module data </td></tr>
  </table>
</dl>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000021">Todo:</a></b></dt><dd>make a compile-time define for this, as UI is/has been buggy? </dd></dl>

<p>References <a class="el" href="policy__change_8c-source.html#l00042">policy_change_data::change_call</a>, <a class="el" href="policy__change_8c-source.html#l00044">policy_change_data::change_from</a>, <a class="el" href="policy__change_8c-source.html#l00046">policy_change_data::change_to</a>, <a class="el" href="policy__api_8h-source.html#l00029">ICD_POLICY_REJECTED</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, and <a class="el" href="policy__change_8c-source.html#l00077">policy_change_do_cb()</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00167">policy_change_confirm()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g8e0c2e5dcde73e393d9b9efc3ecddbb9"></a><!-- doxytag: member="policy_change.c::policy_change_delete_data" ref="g8e0c2e5dcde73e393d9b9efc3ecddbb9" args="(struct policy_change_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_change_delete_data           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpolicy__change__data.html">policy_change_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free allocated data structure members and cancel ongoing pending call; leave data needed for calling the callback <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>policy change data </td></tr>
  </table>
</dl>

<p>References <a class="el" href="policy__change_8c-source.html#l00042">policy_change_data::change_call</a>, <a class="el" href="policy__change_8c-source.html#l00044">policy_change_data::change_from</a>, and <a class="el" href="policy__change_8c-source.html#l00046">policy_change_data::change_to</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00276">policy_change_destruct()</a>, and <a class="el" href="policy__change_8c-source.html#l00077">policy_change_do_cb()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g24dbec669d970a8ef5f1207b34953732"></a><!-- doxytag: member="policy_change.c::policy_change_destruct" ref="g24dbec669d970a8ef5f1207b34953732" args="(gpointer *private)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_change_destruct           </td>
          <td>(</td>
          <td class="paramtype">gpointer *&nbsp;</td>
          <td class="paramname"> <em>private</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Policy module destruction function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>private</em>&nbsp;</td><td>a reference to the private data </td></tr>
  </table>
</dl>

<p>References <a class="el" href="icd__dbus_8c-source.html#l00159">icd_dbus_disconnect_system_bcast_signal()</a>, <a class="el" href="policy__change_8c-source.html#l00061">policy_change_delete_data()</a>, <a class="el" href="policy__change_8c-source.html#l00097">policy_change_done()</a>, and <a class="el" href="policy__change_8c-source.html#l00037">POLICY_CHANGE_EXTRA_FILTER</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00296">icd_policy_init()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g37fcf68b368c38918466a83d883fd1e2"></a><!-- doxytag: member="policy_change.c::policy_change_do_cb" ref="g37fcf68b368c38918466a83d883fd1e2" args="(enum icd_policy_status status, struct policy_change_data *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_change_do_cb           </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="group__policy__api.html#g4f54334d06c737748ec85da1bcf71de9">icd_policy_status</a>&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structpolicy__change__data.html">policy_change_data</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Call new request callback and release allocated data <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>status </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>module data </td></tr>
  </table>
</dl>

<p>References <a class="el" href="policy__change_8c-source.html#l00050">policy_change_data::done_cb</a>, <a class="el" href="policy__change_8c-source.html#l00054">policy_change_data::done_token</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, <a class="el" href="policy__change_8c-source.html#l00048">policy_change_data::is_changing</a>, <a class="el" href="policy__change_8c-source.html#l00052">policy_change_data::new_request</a>, and <a class="el" href="policy__change_8c-source.html#l00061">policy_change_delete_data()</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00138">policy_change_confirm_cb()</a>, <a class="el" href="policy__change_8c-source.html#l00097">policy_change_done()</a>, and <a class="el" href="policy__change_8c-source.html#l00203">policy_change_new_request()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g9e4349b22b24a7fcf487abca43a4b59f"></a><!-- doxytag: member="policy_change.c::policy_change_done" ref="g9e4349b22b24a7fcf487abca43a4b59f" args="(DBusConnection *connection, DBusMessage *message, void *user_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static DBusHandlerResult policy_change_done           </td>
          <td>(</td>
          <td class="paramtype">DBusConnection *&nbsp;</td>
          <td class="paramname"> <em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DBusMessage *&nbsp;</td>
          <td class="paramname"> <em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>user_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle UI changed signal <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>connection</em>&nbsp;</td><td>D-Bus connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>D-Bus message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user_data</em>&nbsp;</td><td>policy change data structure </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>DBUS_HANDLER_RESULT_NOT_YET_HANDLED </dd></dl>

<p>References <a class="el" href="policy__change_8c-source.html#l00044">policy_change_data::change_from</a>, <a class="el" href="policy__change_8c-source.html#l00046">policy_change_data::change_to</a>, <a class="el" href="policy__api_8h-source.html#l00023">ICD_POLICY_ACCEPTED</a>, <a class="el" href="policy__api_8h-source.html#l00029">ICD_POLICY_REJECTED</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00038">ILOG_WARN</a>, and <a class="el" href="policy__change_8c-source.html#l00077">policy_change_do_cb()</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00296">icd_policy_init()</a>, and <a class="el" href="policy__change_8c-source.html#l00276">policy_change_destruct()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g39b9ac810547fda862268d9cc140da0f"></a><!-- doxytag: member="policy_change.c::policy_change_new_request" ref="g39b9ac810547fda862268d9cc140da0f" args="(struct icd_policy_request *new_request, const GSList *existing_requests, icd_policy_request_new_cb_fn policy_done_cb, gpointer policy_token, gpointer *private)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void policy_change_new_request           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structicd__policy__request.html">icd_policy_request</a> *&nbsp;</td>
          <td class="paramname"> <em>new_request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GSList *&nbsp;</td>
          <td class="paramname"> <em>existing_requests</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__policy__api.html#g7b988874556d4215e0466cb7fd7b36c4">icd_policy_request_new_cb_fn</a>&nbsp;</td>
          <td class="paramname"> <em>policy_done_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&nbsp;</td>
          <td class="paramname"> <em>policy_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer *&nbsp;</td>
          <td class="paramname"> <em>private</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allow one connection at a time; request a change dialog if one exists <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>new_request</em>&nbsp;</td><td>the new connection request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>existing_requests</em>&nbsp;</td><td>currently existing requests </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy_done_cb</em>&nbsp;</td><td>callback to call when policy has been decided </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>policy_token</em>&nbsp;</td><td>the policy token to return in the callback </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>private</em>&nbsp;</td><td>the private memeber of the icd_request_api structure </td></tr>
  </table>
</dl>

<p>References <a class="el" href="policy__api_8h-source.html#l00061">icd_policy_request::attrs</a>, <a class="el" href="policy__change_8c-source.html#l00044">policy_change_data::change_from</a>, <a class="el" href="policy__change_8c-source.html#l00046">policy_change_data::change_to</a>, <a class="el" href="policy__change_8c-source.html#l00050">policy_change_data::done_cb</a>, <a class="el" href="policy__change_8c-source.html#l00054">policy_change_data::done_token</a>, <a class="el" href="policy__api_8h-source.html#l00023">ICD_POLICY_ACCEPTED</a>, <a class="el" href="policy__api_8h-source.html#l00049">ICD_POLICY_ATTRIBUTE_ALWAYS_ONLINE_CHANGE</a>, <a class="el" href="policy__api_8h-source.html#l00036">ICD_POLICY_ATTRIBUTE_BACKGROUND</a>, <a class="el" href="policy__api_8h-source.html#l00033">ICD_POLICY_ATTRIBUTE_CONN_UI</a>, <a class="el" href="policy__api_8h-source.html#l00046">ICD_POLICY_ATTRIBUTE_NO_INTERACTION</a>, <a class="el" href="policy__api_8h-source.html#l00029">ICD_POLICY_REJECTED</a>, <a class="el" href="icd__log_8h-source.html#l00026">ILOG_DEBUG</a>, <a class="el" href="icd__log_8h-source.html#l00044">ILOG_ERR</a>, <a class="el" href="icd__log_8h-source.html#l00032">ILOG_INFO</a>, <a class="el" href="policy__change_8c-source.html#l00048">policy_change_data::is_changing</a>, <a class="el" href="policy__api_8h-source.html#l00073">icd_policy_request::network_id</a>, <a class="el" href="policy__change_8c-source.html#l00052">policy_change_data::new_request</a>, <a class="el" href="policy__change_8c-source.html#l00167">policy_change_confirm()</a>, and <a class="el" href="policy__change_8c-source.html#l00077">policy_change_do_cb()</a>.</p>

<p>Referenced by <a class="el" href="policy__change_8c-source.html#l00296">icd_policy_init()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 11 09:04:50 2010 for ICd2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
